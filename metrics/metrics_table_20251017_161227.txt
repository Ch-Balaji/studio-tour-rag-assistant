
====================================================================================================
                                   PERFORMANCE METRICS SUMMARY
====================================================================================================


────────────────────────────────────────────────────────────────────────────────────────────────────
Query #1: Who is Harry Potter's best friend?
────────────────────────────────────────────────────────────────────────────────────────────────────

Component                                Time (ms)       Time (s)        Details
---------------------------------------- --------------- --------------- ------------------------------
1. Query Enhancement                     0.40            0.0004         
2. Retrieval Pipeline (Total)            45.80           0.0458          5 chunks
   • Query Embedding                     35.80           0.0358         
   • Dense Retrieval                     10.30           0.0103         
   • Sparse Retrieval                    20.10           0.0201         
   • Rrf Fusion                          0.00            0.0000         
   • Reranking                           139.40          0.1394         
3. Context Formatting                    0.00            0.0000          2986 chars
4. LLM Generation (Total)                451.50          0.4515          38 tokens
   • Time to First Token                 308.00          0.3080         

----------------------------------------------------------------------------------------------------
TOTAL PIPELINE TIME                      703.63          0.7036         
----------------------------------------------------------------------------------------------------

────────────────────────────────────────────────────────────────────────────────────────────────────
Query #2: What is the Patronus charm and how does it work?
────────────────────────────────────────────────────────────────────────────────────────────────────

Component                                Time (ms)       Time (s)        Details
---------------------------------------- --------------- --------------- ------------------------------
1. Query Enhancement                     0.50            0.0005         
2. Retrieval Pipeline (Total)            52.50           0.0525          5 chunks
   • Query Embedding                     31.60           0.0316         
   • Dense Retrieval                     6.50            0.0065         
   • Sparse Retrieval                    30.30           0.0303         
   • Rrf Fusion                          0.00            0.0000         
   • Reranking                           214.30          0.2143         
3. Context Formatting                    0.00            0.0000          3206 chars
4. LLM Generation (Total)                508.70          0.5087          123 tokens
   • Time to First Token                 191.20          0.1912         

----------------------------------------------------------------------------------------------------
TOTAL PIPELINE TIME                      845.05          0.8451         
----------------------------------------------------------------------------------------------------

────────────────────────────────────────────────────────────────────────────────────────────────────
Query #3: Describe the Battle of Hogwarts
────────────────────────────────────────────────────────────────────────────────────────────────────

Component                                Time (ms)       Time (s)        Details
---------------------------------------- --------------- --------------- ------------------------------
1. Query Enhancement                     0.30            0.0003         
2. Retrieval Pipeline (Total)            46.80           0.0468          5 chunks
   • Query Embedding                     19.90           0.0199         
   • Dense Retrieval                     5.20            0.0052         
   • Sparse Retrieval                    15.10           0.0151         
   • Rrf Fusion                          0.00            0.0000         
   • Reranking                           179.20          0.1792         
3. Context Formatting                    0.00            0.0000          4164 chars
4. LLM Generation (Total)                1001.30         1.0013          304 tokens
   • Time to First Token                 200.70          0.2007         

----------------------------------------------------------------------------------------------------
TOTAL PIPELINE TIME                      1268.44         1.2684         
----------------------------------------------------------------------------------------------------

────────────────────────────────────────────────────────────────────────────────────────────────────
Query #4: What are the Deathly Hallows?
────────────────────────────────────────────────────────────────────────────────────────────────────

Component                                Time (ms)       Time (s)        Details
---------------------------------------- --------------- --------------- ------------------------------
1. Query Enhancement                     0.30            0.0003         
2. Retrieval Pipeline (Total)            52.80           0.0528          5 chunks
   • Query Embedding                     17.90           0.0179         
   • Dense Retrieval                     5.80            0.0058         
   • Sparse Retrieval                    15.00           0.0150         
   • Rrf Fusion                          0.00            0.0000         
   • Reranking                           91.30           0.0913         
3. Context Formatting                    0.00            0.0000          2891 chars
4. LLM Generation (Total)                399.80          0.3998          82 tokens
   • Time to First Token                 163.50          0.1635         

----------------------------------------------------------------------------------------------------
TOTAL PIPELINE TIME                      583.43          0.5834         
----------------------------------------------------------------------------------------------------

────────────────────────────────────────────────────────────────────────────────────────────────────
Query #5: Tell me about Severus Snape's role in the story
────────────────────────────────────────────────────────────────────────────────────────────────────

Component                                Time (ms)       Time (s)        Details
---------------------------------------- --------------- --------------- ------------------------------
1. Query Enhancement                     0.50            0.0005         
2. Retrieval Pipeline (Total)            52.60           0.0526          5 chunks
   • Query Embedding                     25.00           0.0250         
   • Dense Retrieval                     6.60            0.0066         
   • Sparse Retrieval                    20.50           0.0205         
   • Rrf Fusion                          0.00            0.0000         
   • Reranking                           172.10          0.1721         
3. Context Formatting                    0.00            0.0000          4177 chars
4. LLM Generation (Total)                993.40          0.9934          326 tokens
   • Time to First Token                 203.90          0.2039         

----------------------------------------------------------------------------------------------------
TOTAL PIPELINE TIME                      1271.00         1.2710         
----------------------------------------------------------------------------------------------------


====================================================================================================
                                        AVERAGE METRICS
====================================================================================================

Component                                Avg Time (ms)   Avg Time (s)   
---------------------------------------- --------------- ---------------
Query Enhancement                        0.40            0.0004         
Retrieval Pipeline                       50.10           0.0501         
Context Formatting                       0.00            0.0000         
LLM Generation                           670.94          0.6709         
----------------------------------------------------------------------------------------------------
AVERAGE TOTAL TIME                       934.30          0.9343         
====================================================================================================
